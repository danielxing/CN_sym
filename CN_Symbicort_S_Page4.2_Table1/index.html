<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

	<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;"/>
	<link href="css/universal.css" rel="stylesheet" type="text/css">

	<script type="text/javascript" src="resource:js/SystemBridge.js"></script>
	<script type="text/javascript" src="./js/DOMAttribute.js"></script>
	<script type="text/javascript" src="./js/webitCSSAnimate.js"></script>
        <script type="text/javascript" src="resource:js/noClickDelay.js"></script>
	
</head>
<body>
	<div id="contentContainer">
		<div id="topBar">
			<div id="title"></div>
		</div>
		
		<div id="tab" class="table1">	
			<div id="tab1" ontouchstart="SystemBridge.goToSlide('Page4::Page4.1');"></div>
			<div id="tab2"></div>
			<div id="tab3"></div>
			<div id="tab4"></div>
			<div id="tab5"></div>	
		</div>
		
		<div id="box">
			<div id="content1">
				<div id="button" ontouchstart="SystemBridge.goToSlide('Page4.2.1 ExperimentDesign');"></div>
			</div>
			<div id="content2">
				<div id="graph1" ontouchstart="SystemBridge.goToSlide('Page4.2.2.1');"></div>
				<div id="graph2" ontouchstart="SystemBridge.goToSlide('Page4.2.2.2');"></div>
			</div>
			<div id="content3" class="hidden">
				<div id="greyline"></div>
				<div id="redline"></div>
				<div id="verticalline"></div>
			</div>
			<div id="content4">
				<div id="horizontalline"></div>
				<div id=bars>
					<div id="redbar">
						<div id="number1"></div>
					</div>
					<div id="redbar2">
						<div id="number2"></div>
					</div>
				</div>
				<div id="button2" ontouchstart="SystemBridge.goToSlide('Page4.2.4 AQLQs');"></div>
			</div>
		</div>
		
		<div id="bottomBar"></div>
		<img id="label" src="package://CN_Symbicort_D_Label/label.png"/>
	</div>
</body>

<script type="text/javascript">
	
	var msecs = 300;
	var counter = 0; 
	var timer=null;
	var timer2=null;
	//verticalline = document.getElementById('verticalline');
	horizontalline = document.getElementById('horizontalline');

	function animate(value){
        //alert(value);
		if((value)&&(value != "nil")) {
            //alert(value);
            eval(value+"()");
        }
        else {
            
            eval("tableAnimation1()");
        }

	}
	
	function gotFocus(){
		SystemBridge.requestSessionValue("tableAnimation","animate");

		
		document.getElementById('tab2').addEventListener('touchstart',function(){
			
			tableAnimation1();
			
		},false);
		
		document.getElementById('tab3').addEventListener('touchstart',function(){
			
			tableAnimation2();
			
		},false);
		
		document.getElementById('tab4').addEventListener('touchstart',function(){
			
			tableAnimation3();
			
		},false);
		
		document.getElementById('tab5').addEventListener('touchstart',function(){
			
			tableAnimation4();
			
		},false);
	}
	
	function lostFocus(){
		document.getElementById('content1').style.display="none";
		document.getElementById('content2').style.display="none";
		document.getElementById('content3').style.display="none";
		document.getElementById('content4').style.display="none";
	}

	/*function blink() {
		verticalline.style.opacity = (verticalline.style.opacity == 0) ? 1 : 0;
		counter +=1;
		if(counter < 5)
			{
			timer=setTimeout("blink()", msecs);
			}		
	}*/
	
	function blink2() {
		horizontalline.style.opacity = (horizontalline.style.opacity == 0) ? 1 : 0;
		counter +=1;
		
		if(counter < 5)
			{
			timer2=setTimeout("blink2()", msecs);
			}		
	}
	
	function tableAnimation1() {
		document.getElementById('tab').className="table1";
		document.getElementById('content1').style.display="block";
		document.getElementById('content2').style.display="none";
		document.getElementById('content3').style.display="none";
		document.getElementById('content4').style.display="none";
	}
	
	function tableAnimation2() {
		document.getElementById('tab').className="table2";
		document.getElementById('content2').style.display="block";
		document.getElementById('content1').style.display="none";
		document.getElementById('content3').style.display="none";
		document.getElementById('content4').style.display="none";
	}
	
	function tableAnimation3() {
		document.getElementById('content3').style.display="block";
		document.getElementById('content1').style.display="none";
		document.getElementById('content2').style.display="none";
		document.getElementById('content4').style.display="none";
		
		document.getElementById('greyline').unanimate().css({"width":"0px"});
		document.getElementById('redline').unanimate().css({"width":"0px"});
		//document.getElementById('verticalline').unanimate().css({"opacity":0});
		
		setTimeout(function(){
			document.getElementById('tab').className="table3";
		
			if(timer){clearTimeout(timer);}
			document.getElementById('greyline').animate({"width":[369+"px","ease-out",1000]},800,function(){
				document.getElementById('redline').animate({"width":[369+"px","ease-out",1000]},0,function(){
					//counter=0;
					//blink();
				});
			});
	
		},0);
		
	}
	
	function tableAnimation4() {
		document.getElementById('content4').style.display="block";
		document.getElementById('content1').style.display="none";
		document.getElementById('content2').style.display="none";
		document.getElementById('content3').style.display="none";
		
		document.getElementById('redbar').unanimate().css({"height":"0px"});
		document.getElementById('redbar2').unanimate().css({"height":"0px"});
		document.getElementById('number1').unanimate().css({"opacity":0});
		document.getElementById('number2').unanimate().css({"opacity":0});
		document.getElementById('horizontalline').unanimate().css({"opacity":0});
		
		setTimeout(function(){
			document.getElementById('tab').className="table4";
		
			if(timer2){clearTimeout(timer2);}
			document.getElementById('redbar').animate({"height":[182+"px","ease-out",1000]},800,function(){
				document.getElementById('number1').animate({"opacity":[1,"ease-in",10]},10,function(){
					document.getElementById('redbar2').animate({"height":[207+"px","ease-out",1000]},10,function(){
						document.getElementById('number2').animate({"opacity":[1,"ease-in",10]},10,function(){
							counter=0;
							blink2();
						});
					});
				});
			});
	
		},0);
	}
	
		
	</script>
</html>
